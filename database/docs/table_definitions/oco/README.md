# OCO 스키마 테이블 정의서

## 개요
OCO(Operation Control Office) 스키마는 AGS 운영관리 시스템의 핵심 운영 기능을 담당하는 테이블들을 포함합니다. 사용자 권한 관리, 공통 코드 관리, 게시판 관리, 시스템 로그, 알림 관리 등의 기능을 제공합니다.

## 스키마 정보
- **스키마명**: oco
- **한글명**: 운영 관리 시스템 (Operation Control Office)
- **분류**: 사용자 권한 관리, 공통 코드 관리, 게시판 관리, 시스템 관리, 알림 관리
- **테이블 수**: 50개

## 테이블 명명 규칙
OCO 스키마는 다음과 같은 체계적인 명명 규칙을 사용합니다:
- **oco1xxxx**: 사용자 및 권한 관리
- **oco2xxxx**: 공통 코드 관리
- **oco3xxxx**: 게시판 및 컨텐츠 관리, 알림 관리
- **oco4xxxx**: API 및 시스템 관리
- **oco5xxxx**: 인사 정보 관리
- **oco6xxxx**: 배치 및 스케줄 관리
- **oco7xxxx**: 통계 및 분석
- **oifxxxxx**: 외부 인터페이스

## 주요 테이블 분류

### 🔐 1. 사용자 및 권한 관리 (oco1xxxx)
**사용자 계정, 역할, 권한을 체계적으로 관리**

#### 기본 사용자 관리
- `oco10100` - 사용자 기본 정보 관리 테이블 (userid 컬럼: varchar(50)로 확장)
- `oco10101` - 사용자별 역할 매핑 관리 테이블 (userid 컬럼: varchar(50)로 확장)
- `oco10103` - 사용자 정보 변경 이력 테이블
- `oco10109` - 사용자 요청 이력 테이블
- `oco10190` - 사용자 활동 이력 테이블
- `oco10195` - 메뉴별 집계 이력 테이블 (userid 컬럼 없음, sumr_dt+menu_id PK)

#### 역할 및 권한 관리
- `oco10110` - 역할 정보 관리 테이블
- `oco10111` - 역할-부서/팀 매핑 테이블
- `oco10112` - 사용자-역할 변경 이력 테이블
- `oco10113` - 역할-부서/팀-사용자 매핑 이력 테이블
- `oco10114` - 역할-부서/팀-사용자 변경 이력 테이블

#### 메뉴 및 화면 권한
- `oco10104` - 사용자별 메뉴 권한 관리 테이블
- `oco10105` - 사용자별 메뉴 권한 이력 테이블
- `oco10106` - 사용자별 메뉴 권한 요청 관리 테이블
- `oco10107` - 사용자별 화면/버튼 권한 관리 테이블
- `oco10116` - 사용자별 메뉴 변경 이력 테이블
- `oco10117` - 사용자별 화면/버튼 변경 이력 테이블

#### 역할별 권한 관리
- `oco10120` - 역할-메뉴 매핑 관리 테이블
- `oco10121` - 역할-화면/버튼 매핑 테이블
- `oco10122` - 역할별 메뉴 권한 변경 이력 테이블
- `oco10123` - 역할-화면/버튼 변경 이력 테이블

#### 시스템 메뉴 관리
- `oco10210` - 메뉴 정보 테이블
- `oco10220` - 화면 정보 테이블
- `oco10230` - 버튼 정보 테이블 ⭐ **다국어 지원 추가**
- `oco10240` - 기능 정보 테이블

### 📊 2. 공통 코드 관리 (oco2xxxx)
**시스템 전반에서 사용하는 코드 체계 관리**

- `oco20100` - 공통 코드 그룹 관리 테이블
- `oco20101` - 공통 코드 값 관리 테이블
- `oco20102` - 공통 코드 값 변경 이력 테이블
- `oco20110` - 공통 코드 사용 통계 테이블

### 📝 3. 게시판 및 컨텐츠 관리 (oco3xxxx)
**게시판, 공지사항, 첨부파일, 알림 등 컨텐츠 관리**

#### 게시판 관리
- `oco30100` - 게시판 정보 테이블

#### 공지사항 및 첨부파일
- `oco30100` - 공지사항 관리 테이블 (PK: bigserial, 댓글허용여부)
- `oco30200` - 공지사항 댓글 내역 테이블 (신규)

#### 알림 관리
- `oco30130` - 알람 정보 관리 테이블

#### 기타 컨텐츠
- `oco30101` - 배너 관리 테이블
- `oco30102` - FAQ 관리 테이블
- `oco30120` - 메일 발송 성공 이력 테이블 (API 요청/응답, 요청자 ID, IP 저장)

### ⚙️ 4. API 및 시스템 관리 (oco4xxxx)
**시스템 설정, API 관리, 로그 관리**

#### 시스템 설정
- `oco40100` - 시스템 설정 테이블
- `oco40110` - 배치 작업 관리 테이블

#### API 관리
- `oco40111` - API 사용량 통계 테이블
- `oco40112` - API 실행 통계 테이블

#### 로그 관리
- `oco40120` - 시스템 로그 테이블
- `oco40130` - 에러 로그 테이블

### 👥 5. 인사 정보 관리 (oco5xxxx)
**임직원 및 조직 정보 관리**

#### 내부 인사 정보
- `oco50100` - 임직원 인사 정보 테이블 (기본 정보, 조직 정보, 부문/본부/팀 관리)
- `oco50110` - 임직원 상세 정보 테이블
- `oco50200` - 부서 정보 테이블
- `oco50300` - 사업장 정보 테이블

#### 외부 인터페이스 (oifxxxxx)
- `oif21100` - 외부 임직원 인사 정보 테이블
- `oif21200` - 외부 부서 정보 테이블
- `oif21300` - 외부 사업장 정보 테이블

### 🔄 6. 배치 및 스케줄 관리 (oco6xxxx)
**배치 작업 및 스케줄 관리**

- `oco60100` - 배치 작업 정보 테이블
- `oco60110` - 배치 실행 이력 테이블

### 📈 7. 통계 및 분석 (oco7xxxx)
**시스템 사용 통계 및 분석**

- `oco70100` - 사용자 접속 통계 테이블

### 🤖 8. AI 및 특수 기능
**AI 기능 및 특수 용도 테이블**

- `anythingllm_vectors` - LLM 벡터 임베딩 테이블

## 최근 변경사항 (2025-07-17)

### 🆕 신규 생성된 테이블
1. **`oco30130` - 알람 정보 관리 테이블**
   - 시스템 내 다양한 알림 기능을 통합 관리
   - 요청서, 견적서, 프로젝트, 인력 배정 등 관련 알림 정보 저장
   - 읽음 여부 및 읽은 일시 관리
   - 대상별 알림 발송 관리

### 컬럼 변경사항
1. **`last_chngr_id` 컬럼 자릿수 확장**
   - 모든 테이블의 `last_chngr_id` 컬럼을 varchar(10)에서 varchar(50)으로 확장
   - 사용자 ID 길이 증가에 대응

2. **`oco10230` - 버튼 정보 테이블 다국어 지원**
   - `bttn_nm_en` 컬럼 추가 (버튼명 영문)
   - 다국어 UI 지원을 위한 영문 버튼명 관리

## 테이블 정의서 목록

### 🔐 사용자 및 권한 관리
- [oco10100.md](./oco10100.md) - 사용자 기본 정보 (userid 컬럼: varchar(50)로 확장)
- [oco10101.md](./oco10101.md) - 사용자별 역할 매핑 관리 테이블 (userid 컬럼: varchar(50)로 확장)
- [oco10103.md](./oco10103.md) - 사용자 정보 변경 이력 테이블
- [oco10104.md](./oco10104.md) - 사용자별 메뉴 권한 관리 테이블
- [oco10105.md](./oco10105.md) - 사용자별 메뉴 권한 이력 테이블
- [oco10106.md](./oco10106.md) - 사용자별 메뉴 권한 요청 관리 테이블
- [oco10107.md](./oco10107.md) - 사용자별 화면/버튼 권한 관리 테이블
- [oco10109.md](./oco10109.md) - 사용자 요청 이력 테이블
- [oco10110.md](./oco10110.md) - 역할 정보 관리 테이블
- [oco10111.md](./oco10111.md) - 역할-부서/팀 매핑 테이블
- [oco10112.md](./oco10112.md) - 사용자-역할 변경 이력 테이블
- [oco10113.md](./oco10113.md) - 역할-부서/팀-사용자 매핑 이력 테이블
- [oco10114.md](./oco10114.md) - 역할-부서/팀-사용자 변경 이력 테이블
- [oco10116.md](./oco10116.md) - 사용자별 메뉴 변경 이력 테이블
- [oco10117.md](./oco10117.md) - 사용자별 화면/버튼 변경 이력 테이블
- [oco10120.md](./oco10120.md) - 역할-메뉴 매핑 관리 테이블
- [oco10121.md](./oco10121.md) - 역할-화면/버튼 매핑 테이블
- [oco10122.md](./oco10122.md) - 역할별 메뉴 권한 변경 이력 테이블
- [oco10123.md](./oco10123.md) - 역할-화면/버튼 변경 이력 테이블
- [oco10190.md](./oco10190.md) - 사용자 활동 이력 테이블
- [oco10195.md](./oco10195.md) - 메뉴별 집계 이력 테이블 (userid 컬럼 없음, sumr_dt+menu_id PK)
- [oco10210.md](./oco10210.md) - 메뉴 정보 테이블
- [oco10220.md](./oco10220.md) - 화면 정보 테이블
- [oco10230.md](./oco10230.md) - 버튼 정보 테이블 ⭐ **다국어 지원**

### 📊 공통 코드 관리
- [oco20100.md](./oco20100.md) - 공통 코드 그룹 관리 테이블
- [oco20101.md](./oco20101.md) - 공통 코드 값 관리 테이블
- [oco20102.md](./oco20102.md) - 공통 코드 값 변경 이력 테이블

### 📝 게시판 및 컨텐츠 관리
- [oco30100.md](./oco30100.md) - 공지사항 관리 테이블
- [oco30200.md](./oco30200.md) - 공지사항 댓글 내역 테이블
- [oco30900.md](./oco30900.md) - 첨부파일 관리 테이블
- [oco30120.md](./oco30120.md) - 메일 발송 성공 이력 테이블 (API 요청/응답, 요청자 ID, IP 저장)
- [oco30130.md](./oco30130.md) - 알람 정보 관리 테이블

### ⚙️ API 및 시스템 관리
- [oco40100.md](./oco40100.md) - 시스템 설정 테이블
- [oco40110.md](./oco40110.md) - 배치 작업 관리 테이블
- [oco40111.md](./oco40111.md) - API 사용량 통계 테이블
- [oco40112.md](./oco40112.md) - API 실행 통계 테이블
- [oco40120.md](./oco40120.md) - 시스템 로그 테이블
- [oco40130.md](./oco40130.md) - 에러 로그 테이블

### 👥 인사 정보 관리
- [oco50100.md](./oco50100.md) - 임직원 인사 정보 테이블 (기본 정보, 조직 정보, 부문/본부/팀 관리)
- [oco50200.md](./oco50200.md) - 부서 정보 테이블
- [oco50300.md](./oco50300.md) - 사업장 정보 테이블
- [oif21100.md](./oif21100.md) - 외부 임직원 인사 정보 테이블
- [oif21200.md](./oif21200.md) - 외부 부서 정보 테이블
- [oif21300.md](./oif21300.md) - 외부 사업장 정보 테이블

### 🤖 AI 및 특수 기능
- [anythingllm_vectors.md](./anythingllm_vectors.md) - LLM 벡터 임베딩 테이블

## 참고 자료
- [OCO DDL](../../../schemas/oco/oco_ddl.sql)
- [OCO ERD](../../../schemas/oco/oco_erd.drawio)

## 변경이력
- 2025-07-17: **다국어 지원 및 알림 기능 추가**
  - `oco30130` 알람 정보 관리 테이블 신규 생성
  - `oco10230` 버튼 정보 테이블에 `bttn_nm_en` 컬럼 추가 (다국어 지원)
  - 모든 테이블의 `last_chngr_id` 컬럼을 varchar(50)으로 확장
- 2025-01-17: 사용자 ID 컬럼 확장 (varchar(50))
- 2024-12-01: OCO 스키마 최초 생성 